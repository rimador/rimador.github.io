let debugLevel=0,Debug={log:3<=debugLevel?e=>console.log("[DEBUG] "+e):()=>{},logError:2<=debugLevel?(...e)=>console.error("[ERROR]",...e):()=>{},logTime:4<=debugLevel?e=>console.time("[TIMER] "+e):()=>{},logTimeEnd:4<=debugLevel?e=>console.timeEnd("[TIMER] "+e):()=>{},contador:1<=debugLevel?e=>console.log("[COUNTER] "+e):()=>{}},cercaButton=document.getElementById("cercaButton");Debug.contador("Botó clicat, +1 GoatCounter");let array0,array1,array2,array5,array6,array7,array8,array9,array10,fitxersLlegits=0,nombresDeFitxers=9,CriterisNoms=(document.addEventListener("DOMContentLoaded",()=>{Debug.logTime("Temps de càrrega"),Debug.log("Lectura de fitxers iniciada"),document.getElementById("loader-text2").textContent=`Carregant fitxers (${fitxersLlegits}/${nombresDeFitxers})`;var e,r=[];for(e of[0,1,2,5,6,7,8,9,10])r.push(`diccionaris/separat/col_${e}.txt`);Promise.all(r.map(function(r){return fetch(r).then(e=>{if(e.ok)return e.text();throw new Error("Error en llegir el fitxer "+r)}).then(e=>{e=(e=>e=e.split("\n"))(e);return fitxersLlegits++,document.getElementById("loader-text2").textContent=`Carregant fitxers (${fitxersLlegits}/${nombresDeFitxers})`,Debug.log(`Fitxers llegits: ${fitxersLlegits}/`+nombresDeFitxers),e}).catch(e=>{throw Debug.logError(`Error en processar el fitxer ${r}:`,e),e})})).then(e=>{Debug.log("Tots els fitxers s'han processat correctament"),Debug.logTimeEnd("Temps de càrrega"),document.getElementById("loader").style.display="none",[array0,array1,array2,array5,array6,array7,array8,array9,array10]=e}).catch(e=>{Debug.logError("Error en processar els fitxers:",e),document.getElementById("loader").style.display="none"}),document.getElementById("paraulaCercada").addEventListener("keydown",function(e){"Enter"===e.key&&(e.preventDefault(),realitzarCerca())})}),cercaButton.addEventListener("click",realitzarCerca),{...crearCriteris("Noms","N"),...crearCriteris("Propis","NP"),...crearCriteris("Comuns","NC")}),CriterisVerbs={...crearCriteris("Verbs","V"),...crearCriterisTriples("Indicatiu","VAI","VSI","VMI"),...crearCriterisTriples("Subjuntiu","VAS","VSS","VMS"),...crearCriterisTriples("Imperatiu","VAM","VSM","VMM"),...crearCriterisTriples("Gerundis","VAG","VSG","VMG"),...crearCriterisTriples("Participis","VAP","VSP","VMP"),...crearCriterisTriples("Infinitius","VAN","VSN","VMN")},CriterisAdjectius={...crearCriteris("Adjectius","A"),...crearCriteris("Qualificatius","AQ0"),...crearCriteris("Superlatius","AQA"),...crearCriteris("Ordinals","AO")},CriterisPronoms={...crearCriteris("Pronoms","P"),...crearCriteris("Demostratius","PD"),...crearCriteris("Indefinits","PI"),...crearCriteris("Interrogatius / Exclamatius","PT"),...crearCriterisDobles("Personals (forts i febles)","PP","P0"),...crearCriteris("Possessius","PX"),...crearCriteris("Relatius","PR")},CriterisDeterminants={...crearCriteris("Determinants","D"),...crearCriteris("Números","DN"),...crearCriteris("Articles","DA"),...crearCriteris("Relatius","DR"),...crearCriteris("Interrogatius","DT"),...crearCriteris("Demostratius","DD"),...crearCriteris("Exclamatius","DE"),...crearCriteris("Indefinits","DI"),...crearCriteris("Possessius","DP")},CriterisAltres={...crearCriteris("Altres categories","Z"),...crearCriteris("Adverbis","ZR"),...crearCriteris("Conjuncions","ZC"),...crearCriteris("Interjeccions","ZI"),...crearCriteris("Preposicions","ZSPS"),...crearCriteris("Contraccions","ZSP+"),...crearCriteris('"etcètera"',"ZF")};function crearCriteris(e,r){return{[""+e]:{filterFunction:e=>e[2].startsWith(""+r)}}}function crearCriterisDobles(e,r,a){return{[""+e]:{filterFunction:e=>e[2].startsWith(r)||e[2].startsWith(a)}}}function crearCriterisTriples(e,r,a,t){return{[""+e]:{filterFunction:e=>e[2].startsWith(r)||e[2].startsWith(a)||e[2].startsWith(t)}}}async function realitzarCerca(){Debug.log("Botó clicat!"),Debug.logTime("realitzarCerca"),document.getElementById("espai_inicial").style.display="none";try{matches=[];var e=document.getElementById("paraulaCercada").value.trim().toLowerCase(),r=document.getElementById("numeroSelector").value,a=document.getElementById("rimaSelector").value,t=buscarParaula(e,r,document.getElementById("categoriaSelector").value,a,document.getElementById("nomsPropis").value,document.getElementById("plurals").value,array0,array1,array2,array5,array6,array7,array8,array9,array10);matches=t[0],paraulacerca=t[1],matches_provisionals=matches.slice(),actualitzarRimes(),document.querySelectorAll(".clickable-checkbox").forEach(function(e){e.checked=!0}),mostrarTotesLesLlistes(),document.querySelector(".impressio").style.display="flex",Debug.logTimeEnd("realitzarCerca")}catch(e){Debug.logError("Error en realitzar la cerca:",e)}}function buscarParaula(r,a,t,s,i,c,l,o,n,u,g,m,d,h,p){Debug.logTime("buscarParaula");var e=l.findIndex(e=>e.toLowerCase()===r.toLowerCase());llistaParaulaCerca=[l[e],o[e],n[e],u[e],g[e],m[e],d[e],h[e],p[e]],-1==e&&(llistaParaulaCerca=[0,0,0,0,0,0,0,0,0]);for(var b=0;b<l.length;b++){let e=1;for(;1===e&&(m[b]===a||"0"===a||"5"===a)&&!("5"===a&&parseInt(m[b])<5)&&("vocal+h"!==t||"haeiou".includes(l[b][0]))&&("consonant"!==t||!"haeiou".includes(l[b][0]))&&("r.consonant"!==s||u[b]===llistaParaulaCerca[3])&&("r.assonant"!==s||g[b]===llistaParaulaCerca[4])&&("no"!==i||"N"!==n[b][0]||"P"!==n[b][1]);){if("no"===c){if("D"===n[b][0]&&"P"===n[b][4])break;if("A"===n[b][0]&&"P"===n[b][4])break;if("N"===n[b][0]&&"P"===n[b][3])break;if("P"===n[b][0]&&"P"===n[b][4])break}var C=[l[b],o[b],n[b],m[b],d[b],h[b],p[b]];matches.push(C),e=0}}return Debug.logTimeEnd("buscarParaula"),[matches,llistaParaulaCerca]}function crearEnllacViccionari(e){e='<a href="https://ca.wiktionary.org/wiki/'+e+'" target="_blank">';return e+'<img src="./assets/logovicc (240x240).png" loading="lazy" alt="Logo" class="logo">'+"</a>"}function crearEnllacViquipedia(e){e='<a href="https://ca.wikipedia.org/wiki/'+e+'" target="_blank">';return e+'<img src="./assets/logowiki (263x240).png" loading="lazy" alt="Logo" class="logo">'+"</a>"}function crearEnllacDiec(e){e='<a href="https://dlc.iec.cat/Results?DecEntradaText='+e+'&AllInfoMorf=False&OperEntrada=0&OperDef=0&OperEx=0&OperSubEntrada=0&OperAreaTematica=0&InfoMorfType=0&OperCatGram=False&AccentSen=False&CurrentPage=0&refineSearch=0&Actualitzacions=False" target="_blank">';return e+'<img src="./assets/logodiec (200x200).png" loading="lazy" alt="Logo" class="logo">'+"</a>"}function actualitzarRimes(){Debug.logTime("actualitzarRimes");var e="Nombre de rimes: "+matches_provisionals.length,r=(document.getElementById("nombre").innerHTML=e,{}),a="";if(0<matches_provisionals.length){for(var t,s=0;s<matches_provisionals.length;s++){var i=matches_provisionals[s],c=i[0],l="",o=("V"===i[2][0]&&(l=" ("+i[1]+") "),""),n="",u="",i=("Vicc"===i[4]&&(o=crearEnllacViccionari(i[1])),"Viq"===i[5]&&(n=crearEnllacViquipedia(i[1])),"Diec"===i[6]&&(u=crearEnllacDiec(i[1])),i[3]);r[i]||(r[i]=[]),r[i].push({paraula:c,paraula_mare:l,enllac_vicc:o,enllac_viq:n,enllac_diec:u})}for(t in r){a+="<h3><br>"+t+(1<t?" síl·labes":" síl·laba")+":</h3><ul>";for(var g=0;g<r[t].length;g++){var m=r[t][g],d="";m.enllac_vicc&&(d+=m.enllac_vicc+" "),m.enllac_viq&&(d+=m.enllac_viq+" "),m.enllac_diec&&(d+=m.enllac_diec+" "),a+="<li><span class='classeParaula'>"+m.paraula+"</span><span class='classeParaulaMare'>"+m.paraula_mare+"</span> "+d.trim()+"</li>"}a+="</ul>"}}else e=0===paraulacerca[0]?"No s'ha trobat la paraula al diccionari.":"No s'han trobat rimes amb aquestes condicions. Ets massa exigent!",a="<ul><li>"+e+"</li></ul>";document.getElementById("rima_enllac").innerHTML=a,Debug.logTimeEnd("actualitzarRimes")}function mostrarTotesLesLlistes(){Debug.logTime("mostrarTotesLesLlistes");var e=obtenirValorsSegonsPrimerCaracter(matches);mostrarLlista("noms",e.resultatsN,"checkbox1"),mostrarLlista("adjectius",e.resultatsA,"checkbox2"),mostrarLlista("verbs",e.resultatsV,"checkbox3"),mostrarLlista("determinants",e.resultatsD,"checkbox4"),mostrarLlista("pronoms",e.resultatsP,"checkbox5"),mostrarLlista("altres",e.resultatsAlt,"checkbox6"),Debug.logTimeEnd("mostrarTotesLesLlistes")}function mostrarLlista(e,r,a){Debug.logTime("mostrarLlista");var t,e="#"+e+"List",a=document.querySelector("#"+a),e=document.querySelector(e);a&&e?(a.parentElement.style.display=0<r.length?"block":"none",e.style.display=0<r.length?"block":"none",(t=e.querySelectorAll("li")).forEach(function(e,r){e.style.display="none"}),r.forEach(function(e){e<t.length&&(t[e].style.display="list-item")})):Debug.log("No es compleixen les condicions per entrar a la lògica principal"),Debug.logTimeEnd("mostrarLlista")}function toggleList(e,r){Debug.logTime("toggleList");e=document.getElementById(e),r=document.getElementById(r),e=e.querySelectorAll('input[type="checkbox"]');r.checked?e.forEach(function(e){e.checked=!0}):e.forEach(function(e){e.checked=!1}),Debug.logTimeEnd("toggleList")}function handleCheckboxClick(e,a){if(Debug.logTime("handleCheckboxClick"),"checkbox"===e.target.type){var t=e.target.parentNode.innerText.trim();if(t in a){let r=a[t].filterFunction;e.target.checked?(a=matches.filter(r).filter(e=>!matches_provisionals.includes(e)),matches_provisionals=matches_provisionals.concat(a),Debug.log(`Checkbox "${t}" marcada`)):(Debug.log(`Checkbox "${t}" desclicat`),matches_provisionals=matches_provisionals.filter(e=>!r(e))),actualitzarRimes()}}Debug.logTimeEnd("handleCheckboxClick")}function obtenirValorsSegonsPrimerCaracter(e){Debug.logTime("obtenirValorsSegonsPrimerCaracter");for(var r=[],a=[],t=[],s=[],i=[],c=[],l=0;l<e.length;l++){var o=e[l][2],n=o.charAt(0),u=o.charAt(1),g=o.charAt(2);switch(n){case"N":switch(u){case"P":r.push(0);break;case"C":r.push(1)}break;case"A":switch(u){case"Q":switch(g){case"0":a.push(0);break;case"A":a.push(1)}break;case"O":a.push(2)}break;case"V":switch(g){case"I":t.push(0);break;case"S":t.push(1);break;case"M":t.push(2);break;case"G":t.push(3);break;case"P":t.push(4);break;case"N":t.push(5)}break;case"D":switch(u){case"N":s.push(0);break;case"A":s.push(1);break;case"R":s.push(2);break;case"T":s.push(3);break;case"D":s.push(4);break;case"E":s.push(5);break;case"I":s.push(6);break;case"P":s.push(7)}break;case"P":switch(u){case"D":i.push(0);break;case"I":i.push(1);break;case"T":i.push(2);break;case"P":case"0":i.push(3);break;case"X":i.push(4);break;case"R":i.push(5)}break;case"Z":switch(u){case"R":c.push(0);break;case"C":c.push(1);break;case"I":c.push(2);break;case"F":c.push(5)}switch(g){case"S":c.push(3);break;case"+":c.push(4)}}}return Debug.logTimeEnd("obtenirValorsSegonsPrimerCaracter"),{resultatsN:r,resultatsA:a,resultatsV:t,resultatsD:s,resultatsP:i,resultatsAlt:c}}window.addEventListener("scroll",function(){var e=document.getElementById("container"),r=document.getElementById("checkboxContainer"),a=document.getElementById("separador_rosa2"),e=e.getBoundingClientRect();120<e.height?(r.style.top=40+e.height+40+"px",a.style.top=40+e.height+"px"):(r.style.top="200px",a.style.top="160px")});
//# sourceMappingURL=script.min.js.map
