document.getElementById("year").textContent=(new Date).getFullYear(),document.addEventListener("DOMContentLoaded",function(){document.getElementById("cercaButton").addEventListener("click",function(e){window.goatcounter?window.goatcounter.count({path:"click-boto_cerca",title:"Cercar Botó",event:!0}):console.error("GoatCounter no està disponible.")})});let array0,array1,array2,array5,array6,array7,array8,array9,array10,fitxersLlegits=0,nombresDeFitxers=9,cercaButton=(document.addEventListener("DOMContentLoaded",()=>{console.time("Temps de càrrega"),console.log("Lectura de fitxers iniciada"),document.getElementById("loader-text2").textContent=`Carregant fitxers (${fitxersLlegits}/${nombresDeFitxers})`;var e,r=[];for(e of[0,1,2,5,6,7,8,9,10])r.push(`diccionaris/separat/col_${e}.txt`);Promise.all(r.map(function(r){return fetch(r).then(e=>{if(e.ok)return e.text();throw new Error("Error en llegir el fitxer "+r)}).then(e=>{e=(e=>e=e.split("\n"))(e);return fitxersLlegits++,document.getElementById("loader-text2").textContent=`Carregant fitxers (${fitxersLlegits}/${nombresDeFitxers})`,console.log(`Fitxers llegits: ${fitxersLlegits}/`+nombresDeFitxers),e}).catch(e=>{throw console.error(`Error en processar el fitxer ${r}:`,e),e})})).then(e=>{console.log("Tots els fitxers s'han processat correctament"),console.timeEnd("Temps de càrrega"),document.getElementById("loader").style.display="none",[array0,array1,array2,array5,array6,array7,array8,array9,array10]=e}).catch(e=>{console.error("Error en processar els fitxers:",e),document.getElementById("loader").style.display="none"}),document.getElementById("paraulaCercada").addEventListener("keydown",function(e){"Enter"===e.key&&(e.preventDefault(),realitzarCerca())})}),document.getElementById("cercaButton")),CriterisNoms=(cercaButton.addEventListener("click",realitzarCerca),{...crearCriteris("Noms","N"),...crearCriteris("Propis","NP"),...crearCriteris("Comuns","NC")}),CriterisVerbs={...crearCriteris("Verbs","V"),...crearCriterisTriples("Indicatiu","VAI","VSI","VMI"),...crearCriterisTriples("Subjuntiu","VAS","VSS","VMS"),...crearCriterisTriples("Imperatiu","VAM","VSM","VMM"),...crearCriterisTriples("Gerundis","VAG","VSG","VMG"),...crearCriterisTriples("Participis","VAP","VSP","VMP"),...crearCriterisTriples("Infinitius","VAN","VSN","VMN")},CriterisAdjectius={...crearCriteris("Adjectius","A"),...crearCriteris("Qualificatius","AQ0"),...crearCriteris("Superlatius","AQA"),...crearCriteris("Ordinals","AO")},CriterisPronoms={...crearCriteris("Pronoms","P"),...crearCriteris("Demostratius","PD"),...crearCriteris("Indefinits","PI"),...crearCriteris("Interrogatius / Exclamatius","PT"),...crearCriterisDobles("Personals (forts i febles)","PP","P0"),...crearCriteris("Possessius","PX"),...crearCriteris("Relatius","PR")},CriterisDeterminants={...crearCriteris("Determinants","D"),...crearCriteris("Números","DN"),...crearCriteris("Articles","DA"),...crearCriteris("Relatius","DR"),...crearCriteris("Interrogatius","DT"),...crearCriteris("Demostratius","DD"),...crearCriteris("Exclamatius","DE"),...crearCriteris("Indefinits","DI"),...crearCriteris("Possessius","DP")},CriterisAltres={...crearCriteris("Altres categories","Z"),...crearCriteris("Adverbis","ZR"),...crearCriteris("Conjuncions","ZC"),...crearCriteris("Interjeccions","ZI"),...crearCriteris("Preposicions","ZSPS"),...crearCriteris("Contraccions","ZSP+"),...crearCriteris('"etcètera"',"ZF")};function crearCriteris(e,r){return{[""+e]:{filterFunction:e=>e[2].startsWith(""+r)}}}function crearCriterisDobles(e,r,a){return{[""+e]:{filterFunction:e=>e[2].startsWith(r)||e[2].startsWith(a)}}}function crearCriterisTriples(e,r,a,t){return{[""+e]:{filterFunction:e=>e[2].startsWith(r)||e[2].startsWith(a)||e[2].startsWith(t)}}}async function realitzarCerca(){console.time("realitzarCerca");try{matches=[];var e=document.getElementById("paraulaCercada").value.toLowerCase(),r=document.getElementById("numeroSelector").value,a=document.getElementById("rimaSelector").value,t=buscarParaula(e,r,document.getElementById("categoriaSelector").value,a,document.getElementById("nomsPropis").value,document.getElementById("plurals").value,array0,array1,array2,array5,array6,array7,array8,array9,array10);matches=t[0],paraulacerca=t[1],matches_provisionals=matches.slice(),actualitzarRimes(),document.querySelectorAll(".clickable-checkbox").forEach(function(e){e.checked=!0}),mostrarTotesLesLlistes(),document.querySelector(".impressio").style.display="flex",console.timeEnd("realitzarCerca")}catch(e){console.error("Error en realitzar la cerca:",e)}}function buscarParaula(r,a,t,s,i,c,n,o,l,u,m,d,h,p,g){console.time("buscarParaula");var e=n.findIndex(e=>e.toLowerCase()===r.toLowerCase());llistaParaulaCerca=[n[e],o[e],l[e],u[e],m[e],d[e],h[e],p[e],g[e]],-1==e&&(llistaParaulaCerca=[0,0,0,0,0,0,0,0,0]);for(var C=0;C<n.length;C++){let e=1;for(;1===e&&(d[C]===a||"0"===a||"5"===a)&&!("5"===a&&parseInt(d[C])<5)&&("vocal+h"!==t||"haeiou".includes(n[C][0]))&&("consonant"!==t||!"haeiou".includes(n[C][0]))&&("r.consonant"!==s||u[C]===llistaParaulaCerca[3])&&("r.assonant"!==s||m[C]===llistaParaulaCerca[4])&&("no"!==i||"N"!==l[C][0]||"P"!==l[C][1]);){if("no"===c){if("D"===l[C][0]&&"P"===l[C][4])break;if("A"===l[C][0]&&"P"===l[C][4])break;if("N"===l[C][0]&&"P"===l[C][3])break;if("P"===l[C][0]&&"P"===l[C][4])break}var b=[n[C],o[C],l[C],d[C],h[C],p[C],g[C]];matches.push(b),e=0}}return console.timeEnd("buscarParaula"),[matches,llistaParaulaCerca]}function crearEnllacViccionari(e){e='<a href="https://ca.wiktionary.org/wiki/'+e+'" target="_blank">';return e+'<img src="./assets/logovicc.png" loading="lazy" alt="Logo" class="logo">'+"</a>"}function crearEnllacViquipedia(e){e='<a href="https://ca.wikipedia.org/wiki/'+e+'" target="_blank">';return e+'<img src="./assets/logowiki2.png" loading="lazy" alt="Logo" class="logo">'+"</a>"}function crearEnllacDiec(e){e='<a href="https://dlc.iec.cat/Results?DecEntradaText='+e+'&AllInfoMorf=False&OperEntrada=0&OperDef=0&OperEx=0&OperSubEntrada=0&OperAreaTematica=0&InfoMorfType=0&OperCatGram=False&AccentSen=False&CurrentPage=0&refineSearch=0&Actualitzacions=False" target="_blank">';return e+'<img src="./assets/logodiec.png" loading="lazy" alt="Logo" class="logo">'+"</a>"}function actualitzarRimes(){console.time("actualitzarRimes");var e="Nombre de rimes: "+matches_provisionals.length,r=(document.getElementById("nombre").innerHTML=e,{}),a="";if(0<matches_provisionals.length){for(var t,s=0;s<matches_provisionals.length;s++){var i=matches_provisionals[s],c=i[0],n="",o=("V"===i[2][0]&&(n=" ("+i[1]+") "),""),l="",u="",i=("Vicc"===i[4]&&(o=crearEnllacViccionari(i[1])),"Viq"===i[5]&&(l=crearEnllacViquipedia(i[1])),"Diec"===i[6]&&(u=crearEnllacDiec(i[1])),i[3]);r[i]||(r[i]=[]),r[i].push({paraula:c,paraula_mare:n,enllac_vicc:o,enllac_viq:l,enllac_diec:u})}for(t in r){a+="<h3><br>"+t+(1<t?" síl·labes":" síl·laba")+":</h3><ul>";for(var m=0;m<r[t].length;m++){var d=r[t][m],h="";d.enllac_vicc&&(h+=d.enllac_vicc+" "),d.enllac_viq&&(h+=d.enllac_viq+" "),d.enllac_diec&&(h+=d.enllac_diec+" "),a+="<li><span class='classeParaula'>"+d.paraula+"</span><span class='classeParaulaMare'>"+d.paraula_mare+"</span> "+h.trim()+"</li>"}a+="</ul>"}}else e=0===paraulacerca[0]?"No s'ha trobat la paraula al diccionari.":"No s'han trobat rimes amb aquestes condicions. Ets massa exigent!",a="<ul><li>"+e+"</li></ul>";document.getElementById("rima_enllac").innerHTML=a,console.timeEnd("actualitzarRimes")}function mostrarTotesLesLlistes(){console.time("mostrarTotesLesLlistes");var e=obtenirValorsSegonsPrimerCaracter(matches);mostrarLlista("noms",e.resultatsN,"checkbox1"),mostrarLlista("adjectius",e.resultatsA,"checkbox2"),mostrarLlista("verbs",e.resultatsV,"checkbox3"),mostrarLlista("determinants",e.resultatsD,"checkbox4"),mostrarLlista("pronoms",e.resultatsP,"checkbox5"),mostrarLlista("altres",e.resultatsAlt,"checkbox6"),console.timeEnd("mostrarTotesLesLlistes")}function mostrarLlista(e,r,a){console.time("mostrarLlista");var t,e="#"+e+"List",a=document.querySelector("#"+a),e=document.querySelector(e);a&&e?(a.parentElement.style.display=0<r.length?"block":"none",e.style.display=0<r.length?"block":"none",(t=e.querySelectorAll("li")).forEach(function(e,r){e.style.display="none"}),r.forEach(function(e){e<t.length&&(t[e].style.display="list-item")})):console.log("No es compleixen les condicions per entrar a la lògica principal"),console.timeEnd("mostrarLlista")}function toggleList(e,r){console.time("toggleList");e=document.getElementById(e),r=document.getElementById(r),e=e.querySelectorAll('input[type="checkbox"]');r.checked?e.forEach(function(e){e.checked=!0}):e.forEach(function(e){e.checked=!1}),console.timeEnd("toggleList")}function handleCheckboxClick(e,a){if(console.time("handleCheckboxClick"),"checkbox"===e.target.type){var t=e.target.parentNode.innerText.trim();if(t in a){let r=a[t].filterFunction;e.target.checked?(a=matches.filter(r).filter(e=>!matches_provisionals.includes(e)),matches_provisionals=matches_provisionals.concat(a),console.log(`Checkbox "${t}" marcada`)):(console.log(`Checkbox "${t}" desclicat`),matches_provisionals=matches_provisionals.filter(e=>!r(e))),actualitzarRimes()}}console.timeEnd("handleCheckboxClick")}function obtenirValorsSegonsPrimerCaracter(e){console.time("obtenirValorsSegonsPrimerCaracter");for(var r=[],a=[],t=[],s=[],i=[],c=[],n=0;n<e.length;n++){var o=e[n][2],l=o.charAt(0),u=o.charAt(1),m=o.charAt(2);switch(l){case"N":switch(u){case"P":r.push(0);break;case"C":r.push(1)}break;case"A":switch(u){case"Q":switch(m){case"0":a.push(0);break;case"A":a.push(1)}break;case"O":a.push(2)}break;case"V":switch(m){case"I":t.push(0);break;case"S":t.push(1);break;case"M":t.push(2);break;case"G":t.push(3);break;case"P":t.push(4);break;case"N":t.push(5)}break;case"D":switch(u){case"N":s.push(0);break;case"A":s.push(1);break;case"R":s.push(2);break;case"T":s.push(3);break;case"D":s.push(4);break;case"E":s.push(5);break;case"I":s.push(6);break;case"P":s.push(7)}break;case"P":switch(u){case"D":i.push(0);break;case"I":i.push(1);break;case"T":i.push(2);break;case"P":case"0":i.push(3);break;case"X":i.push(4);break;case"R":i.push(5)}break;case"Z":switch(u){case"R":c.push(0);break;case"C":c.push(1);break;case"I":c.push(2);break;case"F":c.push(5)}switch(m){case"S":c.push(3);break;case"+":c.push(4)}}}return console.timeEnd("obtenirValorsSegonsPrimerCaracter"),{resultatsN:r,resultatsA:a,resultatsV:t,resultatsD:s,resultatsP:i,resultatsAlt:c}}window.addEventListener("scroll",function(){var e=document.getElementById("container"),r=document.getElementById("checkboxContainer"),a=document.getElementById("separador_rosa2"),e=e.getBoundingClientRect();120<e.height?(r.style.top=40+e.height+40+"px",a.style.top=40+e.height+"px"):(r.style.top="200px",a.style.top="160px")});
//# sourceMappingURL=script.min.js.map
